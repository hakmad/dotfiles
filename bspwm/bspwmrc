#!/bin/bash

# ~/.config/bspwm/bspwmrc
# Configuration file for BSPWM, run when it starts.

# Get style.sh for colours and fonts.
source style.sh

# Basic BSPWM configurations.
bspc config window_gap			15
bspc config border_width 		5

bspc config split_ratio			0.5

bspc config normal_border_color 	$ACCENT
bspc config active_border_color 	$ACCENT
bspc config focused_border_color 	$FOREGROUND
bspc config presel_feedback_color 	$FOREGROUND

# BSPWM rules for windows.
bspc rule -a floating 			state=floating
bspc rule -a feh 			state=floating
bspc rule -a mpv 			state=floating
bspc rule -a Pavucontrol 		state=floating

# Setup monitors and desktops.
if [[ $(xrandr --query | grep DP1-3 | cut -d " " -f 2) == "connected" ]]; then
	bspc monitor eDP1 -d 1 2 3 4 5

	xrandr --output DP1-3 --auto --right-of eDP1
	bspc monitor DP1-3 -d 6 7 8 9 9 10
else
	bspc monitor eDP1 -d 1 2 3 4 5

	bspc monitor DP1-3 -d 6 7 8 9 10
	bspc monitor DP1-3 -r

	bspc wm -o
fi

# Run extra things.
notify.sh &

setxkbmap gb &

picom &
sxhkd &

feh --bg-fill $(find ~/media/images/wallpapers/ | tail -n +2 | shuf -n 1) &
xsetroot -cursor_name left_ptr &

xss-lock -- slock
